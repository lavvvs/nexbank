{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lavan/Downloads/banking-web-application/components/dashboard/recovery-button.tsx"],"sourcesContent":["// components/dashboard/recovery-button.tsx\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { AlertCircle, Loader2 } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function RecoveryButton({\r\n  transactionCount,\r\n  accountCount = 0,\r\n  loanCount = 0,\r\n}: {\r\n  transactionCount: number;\r\n  accountCount?: number;\r\n  loanCount?: number;\r\n}) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleRecover = async () => {\r\n    setLoading(true);\r\n\r\n    // Show loading toast\r\n    const loadingToast = toast.loading(\"Recovering your accounts and data...\");\r\n\r\n    try {\r\n      const res = await fetch(\"/api/recover-my-account\", {\r\n        method: \"POST\",\r\n      });\r\n      const data = await res.json();\r\n\r\n      // Dismiss loading toast\r\n      toast.dismiss(loadingToast);\r\n\r\n      if (data.success) {\r\n        // Show success toast with details\r\n        toast.success(\"Account Recovery Complete! üéâ\", {\r\n          description: `\r\n            ${data.accountsCreated || 0} account(s) created\r\n            ${data.transactionsLinked} transactions linked\r\n            ${data.loansLinked || 0} loans recovered\r\n            ${data.emisLinked || 0} EMI payments recovered\r\n            Total Balance: $${data.totalBalance.toFixed(2)}\r\n          `,\r\n          duration: 5000,\r\n        });\r\n\r\n        // Refresh after 1 second\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1000);\r\n      } else {\r\n        toast.error(\"Recovery Failed\", {\r\n          description: data.error || data.message || \"Unknown error occurred\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      toast.dismiss(loadingToast);\r\n      toast.error(\"Recovery Failed\", {\r\n        description: \"An unexpected error occurred. Please check the console.\",\r\n      });\r\n      console.error(\"Recovery error:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 bg-yellow-50 border-2 border-yellow-300 rounded-lg shadow-sm\">\r\n      <div className=\"flex items-start gap-3\">\r\n        <AlertCircle className=\"h-6 w-6 text-yellow-600 mt-0.5 flex-shrink-0\" />\r\n        <div className=\"flex-1\">\r\n          <h3 className=\"font-bold text-yellow-900 mb-1 text-lg\">\r\n            ‚ö†Ô∏è Data Recovery Required\r\n          </h3>\r\n          <p className=\"text-sm text-yellow-800 mb-2\">\r\n            We found orphaned data that needs to be recovered:\r\n          </p>\r\n          <ul className=\"text-sm text-yellow-800 mb-3 space-y-1 list-disc list-inside\">\r\n            {transactionCount > 0 && (\r\n              <li>\r\n                <strong>{transactionCount}</strong> transaction(s) without\r\n                accounts\r\n              </li>\r\n            )}\r\n            {loanCount > 0 && (\r\n              <li>\r\n                <strong>{loanCount}</strong> loan(s) need to be linked\r\n              </li>\r\n            )}\r\n          </ul>\r\n          <Button\r\n            onClick={handleRecover}\r\n            disabled={loading}\r\n            size=\"default\"\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white\"\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Recovering...\r\n              </>\r\n            ) : (\r\n              \"üîß Recover All Data\"\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;AAG3C;AACA;AACA;AAAA;AACA;;;AALA;;;;;AAOO,SAAS,eAAe,EAC7B,gBAAgB,EAChB,eAAe,CAAC,EAChB,YAAY,CAAC,EAKd;;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,gBAAgB;QACpB,WAAW;QAEX,qBAAqB;QACrB,MAAM,eAAe,oJAAK,CAAC,OAAO,CAAC;QAEnC,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,2BAA2B;gBACjD,QAAQ;YACV;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,wBAAwB;YACxB,oJAAK,CAAC,OAAO,CAAC;YAEd,IAAI,KAAK,OAAO,EAAE;gBAChB,kCAAkC;gBAClC,oJAAK,CAAC,OAAO,CAAC,iCAAiC;oBAC7C,aAAa,CAAC;YACZ,EAAE,KAAK,eAAe,IAAI,EAAE;YAC5B,EAAE,KAAK,kBAAkB,CAAC;YAC1B,EAAE,KAAK,WAAW,IAAI,EAAE;YACxB,EAAE,KAAK,UAAU,IAAI,EAAE;4BACP,EAAE,KAAK,YAAY,CAAC,OAAO,CAAC,GAAG;UACjD,CAAC;oBACD,UAAU;gBACZ;gBAEA,yBAAyB;gBACzB,WAAW;oBACT,OAAO,QAAQ,CAAC,MAAM;gBACxB,GAAG;YACL,OAAO;gBACL,oJAAK,CAAC,KAAK,CAAC,mBAAmB;oBAC7B,aAAa,KAAK,KAAK,IAAI,KAAK,OAAO,IAAI;gBAC7C;YACF;QACF,EAAE,OAAO,OAAO;YACd,oJAAK,CAAC,OAAO,CAAC;YACd,oJAAK,CAAC,KAAK,CAAC,mBAAmB;gBAC7B,aAAa;YACf;YACA,QAAQ,KAAK,CAAC,mBAAmB;QACnC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,sOAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAyC;;;;;;sCAGvD,6LAAC;4BAAE,WAAU;sCAA+B;;;;;;sCAG5C,6LAAC;4BAAG,WAAU;;gCACX,mBAAmB,mBAClB,6LAAC;;sDACC,6LAAC;sDAAQ;;;;;;wCAA0B;;;;;;;gCAItC,YAAY,mBACX,6LAAC;;sDACC,6LAAC;sDAAQ;;;;;;wCAAmB;;;;;;;;;;;;;sCAIlC,6LAAC,wIAAM;4BACL,SAAS;4BACT,UAAU;4BACV,MAAK;4BACL,WAAU;sCAET,wBACC;;kDACE,6LAAC,+NAAO;wCAAC,WAAU;;;;;;oCAA8B;;+CAInD;;;;;;;;;;;;;;;;;;;;;;;AAOd;GAtGgB;KAAA"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/circle-alert.js","sources":["file:///C:/Users/lavan/Downloads/banking-web-application/node_modules/lucide-react/src/icons/circle-alert.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('CircleAlert', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n]);\n\nexport default CircleAlert;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAc,gLAAA,EAAiB,aAAe,CAAA,CAAA,CAAA;IAClD;QAAC,QAAU,CAAA;QAAA,CAAA;YAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAI,CAAA,CAAA,CAAA,IAAA,CAAM;YAAA,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA,CAAA;IACzD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAE;YAAA,CAAA,CAAA,EAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,EAAA,CAAI,CAAA,CAAA,CAAA,CAAK,CAAA;YAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACjE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAE;YAAA,CAAA,CAAA,EAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAI,CAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,EAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA;YAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CACtE,CAAA,CAAA"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js","sources":["file:///C:/Users/lavan/Downloads/banking-web-application/node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAe,gLAAA,EAAiB,cAAgB,CAAA,CAAA,CAAA;IACpD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA+B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC7D,CAAA,CAAA"}}]
}