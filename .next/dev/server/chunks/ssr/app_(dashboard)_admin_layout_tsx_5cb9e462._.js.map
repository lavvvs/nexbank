{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lavan/Downloads/banking-web-application/app/%28dashboard%29/admin/layout.tsx"],"sourcesContent":["// app/admin/layout.tsx\nimport type React from \"react\";\nimport { redirect } from \"next/navigation\";\nimport { auth, currentUser } from \"@clerk/nextjs/server\";\nimport dbConnect from \"@/lib/mongodb\";\nimport { Profile } from \"@/lib/models\";\nimport { DashboardSidebar } from \"@/components/dashboard/sidebar\";\nimport { DashboardHeader } from \"@/components/dashboard/header\";\nimport { serializeProfile } from \"@/lib/utils/serializeProfile\";\nimport type { SafeProfile } from \"@/types/safe-profile\";\n\nexport default async function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await auth();\n  const userId = session.userId;\n\n  if (!userId) redirect(\"/auth/login\");\n\n  await dbConnect();\n\n  let profile = await Profile.findOne({ clerkId: userId }).lean();\n\n  if (!profile) {\n    redirect(\"/dashboard\");\n  }\n\n  // Check if user is admin\n  if (!profile.isAdmin) {\n    redirect(\"/dashboard\");\n  }\n\n  const safeProfile: SafeProfile = serializeProfile(profile);\n\n  return (\n    <div className=\"flex min-h-screen bg-background\">\n      <DashboardSidebar profile={safeProfile} />\n      <div className=\"flex w-full flex-col lg:pl-72\">\n        <DashboardHeader profile={safeProfile} />\n        <main className=\"flex-1 p-6\">{children}</main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;AAEvB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAGe,eAAe,YAAY,EACxC,QAAQ,EAGT;IACC,MAAM,UAAU,MAAM,IAAA,2LAAI;IAC1B,MAAM,SAAS,QAAQ,MAAM;IAE7B,IAAI,CAAC,QAAQ,IAAA,iMAAQ,EAAC;IAEtB,MAAM,IAAA,yHAAS;IAEf,IAAI,UAAU,MAAM,wHAAO,CAAC,OAAO,CAAC;QAAE,SAAS;IAAO,GAAG,IAAI;IAE7D,IAAI,CAAC,SAAS;QACZ,IAAA,iMAAQ,EAAC;IACX;IAEA,yBAAyB;IACzB,IAAI,CAAC,QAAQ,OAAO,EAAE;QACpB,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,cAA2B,IAAA,oJAAgB,EAAC;IAElD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,uJAAgB;gBAAC,SAAS;;;;;;0BAC3B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,qJAAe;wBAAC,SAAS;;;;;;kCAC1B,8OAAC;wBAAK,WAAU;kCAAc;;;;;;;;;;;;;;;;;;AAItC"}}]
}