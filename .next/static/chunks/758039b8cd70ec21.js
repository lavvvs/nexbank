(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90768,e=>{"use strict";let r=(0,e.i(10965).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],90768)},35301,e=>{"use strict";let r=(0,e.i(10965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>r],35301)},26773,e=>{"use strict";let r=(0,e.i(10965).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>r],26773)},39577,e=>{"use strict";var r=e.i(93791),i=e.i(75305),s=e.i(30499),a=e.i(67881),t=e.i(63415);let n=(0,e.i(10965).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var o=e.i(35301),c=e.i(26773),l=e.i(42838),d=e.i(90768);function h({user:e}){let[h,p]=(0,i.useState)(!1),m=(0,s.useRouter)(),u=async r=>{p(!0);try{let i=await fetch("/api/users/update-kyc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e._id,clerkId:e.clerkId,hasProfile:e.hasProfile,status:r,email:e.email,fullName:e.fullName,phone:e.phone})});if(!i.ok){let e=await i.json();console.error("Error:",e)}}catch(e){console.error("Error updating verification status:",e)}p(!1),m.refresh()},x=async()=>{p(!0);try{let r=await fetch("/api/users/toggle-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e._id,clerkId:e.clerkId,hasProfile:e.hasProfile,isAdmin:!e.isAdmin,email:e.email,fullName:e.fullName,phone:e.phone})});if(!r.ok){let e=await r.json();console.error("Error:",e)}}catch(e){console.error("Error toggling admin:",e)}p(!1),m.refresh()};return(0,r.jsxs)(t.DropdownMenu,{children:[(0,r.jsx)(t.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsx)(a.Button,{variant:"ghost",size:"icon",disabled:h,children:h?(0,r.jsx)(d.Loader2,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(n,{className:"h-4 w-4"})})}),(0,r.jsxs)(t.DropdownMenuContent,{align:"end",children:[(0,r.jsx)(t.DropdownMenuLabel,{children:"Actions"}),(0,r.jsx)(t.DropdownMenuSeparator,{}),"pending"===e.kycStatus&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.DropdownMenuItem,{onClick:()=>u("approved"),children:[(0,r.jsx)(o.CheckCircle2,{className:"mr-2 h-4 w-4 text-green-600"}),"Mark as Verified"]}),(0,r.jsxs)(t.DropdownMenuItem,{onClick:()=>u("rejected"),children:[(0,r.jsx)(c.XCircle,{className:"mr-2 h-4 w-4 text-destructive"}),"Mark as Unverified"]}),(0,r.jsx)(t.DropdownMenuSeparator,{})]}),"approved"===e.kycStatus&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.DropdownMenuItem,{onClick:()=>u("rejected"),children:[(0,r.jsx)(c.XCircle,{className:"mr-2 h-4 w-4 text-destructive"}),"Mark as Unverified"]}),(0,r.jsx)(t.DropdownMenuSeparator,{})]}),"rejected"===e.kycStatus&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.DropdownMenuItem,{onClick:()=>u("approved"),children:[(0,r.jsx)(o.CheckCircle2,{className:"mr-2 h-4 w-4 text-green-600"}),"Mark as Verified"]}),(0,r.jsx)(t.DropdownMenuSeparator,{})]}),(0,r.jsxs)(t.DropdownMenuItem,{onClick:x,children:[(0,r.jsx)(l.Shield,{className:"mr-2 h-4 w-4 text-primary"}),e.isAdmin?"Remove Admin":"Make Admin"]})]})]})}e.s(["UserActionsDropdown",()=>h],39577)}]);