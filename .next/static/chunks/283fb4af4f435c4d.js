(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30374,e=>{"use strict";var t=e.i(93791),a=e.i(70938),n=e.i(32646),s=e.i(47163);function r({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function i({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function l({className:e,...n}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function c({className:e,children:r,showCloseButton:o=!0,...c}){return(0,t.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,t.jsx)(l,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...c,children:[r,o&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(n.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...n}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...n})}function g({className:e,...n}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...n})}e.s(["Dialog",()=>r,"DialogContent",()=>c,"DialogDescription",()=>g,"DialogHeader",()=>d,"DialogTitle",()=>u,"DialogTrigger",()=>o])},30009,e=>{"use strict";var t=e.i(93791),a=e.i(75305),n=e.i(21463),s=e.i(69136),r=e.i(70938),o=e.i(78896),i=e.i(64701),l="AlertDialog",[c,d]=(0,n.createContextScope)(l,[r.createDialogScope]),u=(0,r.createDialogScope)(),g=e=>{let{__scopeAlertDialog:a,...n}=e,s=u(a);return(0,t.jsx)(r.Root,{...s,...n,modal:!0})};g.displayName=l,a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,o=u(n);return(0,t.jsx)(r.Trigger,{...o,...s,ref:a})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:a,...n}=e,s=u(a);return(0,t.jsx)(r.Portal,{...s,...n})};p.displayName="AlertDialogPortal";var f=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,o=u(n);return(0,t.jsx)(r.Overlay,{...o,...s,ref:a})});f.displayName="AlertDialogOverlay";var x="AlertDialogContent",[m,h]=c(x),j=a.forwardRef((e,n)=>{let{__scopeAlertDialog:l,children:c,...d}=e,g=u(l),p=a.useRef(null),f=(0,s.useComposedRefs)(n,p),h=a.useRef(null);return(0,t.jsx)(r.WarningProvider,{contentName:x,titleName:v,docsSlug:"alert-dialog",children:(0,t.jsx)(m,{scope:l,cancelRef:h,children:(0,t.jsxs)(r.Content,{role:"alertdialog",...g,...d,ref:f,onOpenAutoFocus:(0,o.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(i.Slottable,{children:c}),(0,t.jsx)(N,{contentRef:p})]})})})});j.displayName=x;var v="AlertDialogTitle",b=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,o=u(n);return(0,t.jsx)(r.Title,{...o,...s,ref:a})});b.displayName=v;var y="AlertDialogDescription",w=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,o=u(n);return(0,t.jsx)(r.Description,{...o,...s,ref:a})});w.displayName=y;var D=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,o=u(n);return(0,t.jsx)(r.Close,{...o,...s,ref:a})});D.displayName="AlertDialogAction";var C="AlertDialogCancel",A=a.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...o}=e,{cancelRef:i}=h(C,n),l=u(n),c=(0,s.useComposedRefs)(a,i);return(0,t.jsx)(r.Close,{...l,...o,ref:c})});A.displayName=C;var N=({contentRef:e})=>{let t=`\`${x}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${x}\` by passing a \`${y}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${x}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},k=e.i(47163),S=e.i(67881);function T({...e}){return(0,t.jsx)(g,{"data-slot":"alert-dialog",...e})}function R({...e}){return(0,t.jsx)(p,{"data-slot":"alert-dialog-portal",...e})}function P({className:e,...a}){return(0,t.jsx)(f,{"data-slot":"alert-dialog-overlay",className:(0,k.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function F({className:e,...a}){return(0,t.jsxs)(R,{children:[(0,t.jsx)(P,{}),(0,t.jsx)(j,{"data-slot":"alert-dialog-content",className:(0,k.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a})]})}function O({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,k.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function z({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,k.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function E({className:e,...a}){return(0,t.jsx)(b,{"data-slot":"alert-dialog-title",className:(0,k.cn)("text-lg font-semibold",e),...a})}function I({className:e,...a}){return(0,t.jsx)(w,{"data-slot":"alert-dialog-description",className:(0,k.cn)("text-muted-foreground text-sm",e),...a})}function H({className:e,...a}){return(0,t.jsx)(D,{className:(0,k.cn)((0,S.buttonVariants)(),e),...a})}function $({className:e,...a}){return(0,t.jsx)(A,{className:(0,k.cn)((0,S.buttonVariants)({variant:"outline"}),e),...a})}e.s(["AlertDialog",()=>T,"AlertDialogAction",()=>H,"AlertDialogCancel",()=>$,"AlertDialogContent",()=>F,"AlertDialogDescription",()=>I,"AlertDialogFooter",()=>z,"AlertDialogHeader",()=>O,"AlertDialogTitle",()=>E],30009)},93954,e=>{"use strict";var t=e.i(93791),a=e.i(75305),n=e.i(30499),s=e.i(67881),r=e.i(30374),o=e.i(62870),i=e.i(10708),l=e.i(29439),c=e.i(90768),d=e.i(91641);let u=[{value:"savings",label:"Savings Account",description:"For personal savings with interest"},{value:"current",label:"Current Account",description:"For daily transactions"},{value:"salary",label:"Salary Account",description:"For receiving salary payments"}];function g(){let[e,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),[x,m]=(0,a.useState)(!1),[h,j]=(0,a.useState)(null),v=(0,n.useRouter)(),{user:b}=(0,d.useUser)(),y=async()=>{if(!p)return void j("Please select an account type");if(!b)return void j("You must be logged in to create an account");m(!0),j(null);try{await fetch("/api/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:b.id,accountType:p,accountNumber:"ACC"+Math.floor(1e10*Math.random()).toString().padStart(10,"0"),balance:0,currency:"USD",status:"active"})}),g(!1),f(""),v.refresh()}catch(e){j(e.response?.data?.error||"Something went wrong")}finally{m(!1)}};return(0,t.jsxs)(r.Dialog,{open:e,onOpenChange:g,children:[(0,t.jsx)(r.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{children:[(0,t.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"New Account"]})}),(0,t.jsxs)(r.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{children:"Create New Account"}),(0,t.jsx)(r.DialogDescription,{children:"Choose an account type to get started with your new bank account."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"accountType",children:"Account Type"}),(0,t.jsxs)(o.Select,{value:p,onValueChange:f,children:[(0,t.jsx)(o.SelectTrigger,{id:"accountType",children:(0,t.jsx)(o.SelectValue,{placeholder:"Select account type"})}),(0,t.jsx)(o.SelectContent,{children:u.map(e=>(0,t.jsx)(o.SelectItem,{value:e.value,children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:e.label}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.value))})]})]}),h&&(0,t.jsx)("div",{className:"rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:h})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),(0,t.jsx)(s.Button,{onClick:y,disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Account"})]})]})]})}e.s(["CreateAccountDialog",()=>g])},42377,e=>{"use strict";var t=e.i(93791),a=e.i(75305),n=e.i(30009),s=e.i(78896),r=e.i(69136),o=e.i(21463),i=e.i(45081),l=e.i(54857),c=e.i(8444),d=e.i(95264),u="Switch",[g,p]=(0,o.createContextScope)(u),[f,x]=g(u),m=a.forwardRef((e,n)=>{let{__scopeSwitch:o,name:l,checked:c,defaultChecked:u,required:g,disabled:p,value:x="on",onCheckedChange:m,form:h,...j}=e,[y,w]=a.useState(null),D=(0,r.useComposedRefs)(n,e=>w(e)),C=a.useRef(!1),A=!y||h||!!y.closest("form"),[N=!1,k]=(0,i.useControllableState)({prop:c,defaultProp:u,onChange:m});return(0,t.jsxs)(f,{scope:o,checked:N,disabled:p,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":N,"aria-required":g,"data-state":b(N),"data-disabled":p?"":void 0,disabled:p,value:x,...j,ref:D,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{k(e=>!e),A&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),A&&(0,t.jsx)(v,{control:y,bubbles:!C.current,name:l,value:x,checked:N,required:g,disabled:p,form:h,style:{transform:"translateX(-100%)"}})]})});m.displayName=u;var h="SwitchThumb",j=a.forwardRef((e,a)=>{let{__scopeSwitch:n,...s}=e,r=x(h,n);return(0,t.jsx)(d.Primitive.span,{"data-state":b(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:a})});j.displayName=h;var v=e=>{let{control:n,checked:s,bubbles:r=!0,...o}=e,i=a.useRef(null),d=(0,l.usePrevious)(s),u=(0,c.useSize)(n);return a.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[d,s,r]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return e?"checked":"unchecked"}var y=e.i(47163);function w({className:e,...a}){return(0,t.jsx)(m,{"data-slot":"switch",className:(0,y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(j,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var D=e.i(10708),C=e.i(90768),A=e.i(30499);function N({accountId:e,currentStatus:s,accountNumber:r,accountType:o}){let[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,g]=(0,a.useState)(null),p=(0,A.useRouter)(),f="active"===s,x=async()=>{if(u){l(!0);try{let t=await fetch(`/api/accounts/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:u})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update account status")}d(!1),g(null),p.refresh()}catch(e){console.error("Status update error:",e),alert(e.message||"Failed to update account status")}finally{l(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(w,{id:`status-${e}`,checked:f,onCheckedChange:e=>{g(e?"active":"inactive"),d(!0)},disabled:i}),(0,t.jsx)(D.Label,{htmlFor:`status-${e}`,className:"cursor-pointer",children:f?(0,t.jsx)("span",{className:"text-sm font-medium text-green-600",children:"Active"}):(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Inactive"})})]}),(0,t.jsx)(n.AlertDialog,{open:c,onOpenChange:d,children:(0,t.jsxs)(n.AlertDialogContent,{children:[(0,t.jsxs)(n.AlertDialogHeader,{children:[(0,t.jsxs)(n.AlertDialogTitle,{children:["active"===u?"Activate":"Deactivate"," Account?"]}),(0,t.jsx)(n.AlertDialogDescription,{children:"active"===u?(0,t.jsxs)(t.Fragment,{children:["Are you sure you want to activate account"," ",(0,t.jsx)("strong",{children:r})," (",o,")? This will allow transactions on this account."]}):(0,t.jsxs)(t.Fragment,{children:["Are you sure you want to deactivate account"," ",(0,t.jsx)("strong",{children:r})," (",o,")? This will prevent any new transactions on this account."]})})]}),(0,t.jsxs)(n.AlertDialogFooter,{children:[(0,t.jsx)(n.AlertDialogCancel,{onClick:()=>{d(!1),g(null)},disabled:i,children:"Cancel"}),(0,t.jsx)(n.AlertDialogAction,{onClick:x,disabled:i,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Confirm"})]})]})})]})}e.s(["AccountStatusToggle",()=>N],42377)}]);