(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>r])},14764,e=>{"use strict";let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},65902,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(67881),l=e.i(23750);let n=(0,e.i(75254).default)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var i=e.i(14764),o=e.i(84614),d=e.i(64659);function c(){let[e,c]=(0,s.useState)([{role:"assistant",content:"Hello! I'm your AI banking assistant. Ask me anything about your data."}]),[u,x]=(0,s.useState)(""),[h,m]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1),b=(0,s.useRef)(null),g=(0,s.useRef)(null),y=()=>{g.current?.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>{y()},[e]);let v=async()=>{if(!u.trim())return;let e={role:"user",content:u};c(t=>[...t,e]),x(""),m(!0);try{let e=await fetch("/api/py/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:u})}),t=await e.json(),s={role:"assistant",content:t.response,data:t.data};c(e=>[...e,s])}catch(e){console.error("Error:",e),c(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{m(!1)}};return(0,t.jsx)(a.Card,{className:"w-full border-2 shadow-xl",children:(0,t.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b bg-gradient-to-r from-purple-50 to-blue-50 flex-shrink-0",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:(0,t.jsx)(n,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"AI Banking Assistant"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Powered by Gemini 2.5"})]})]}),(0,t.jsx)("div",{ref:b,onScroll:()=>{if(b.current){let{scrollTop:e,scrollHeight:t,clientHeight:s}=b.current;p(!(t-e-s<100))}},className:"flex-1 overflow-y-auto p-4 min-h-0",children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.map((e,s)=>(0,t.jsxs)("div",{className:`flex gap-3 ${"user"===e.role?"justify-end":"justify-start"}`,children:["assistant"===e.role&&(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(n,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{className:`max-w-[80%] rounded-lg p-3 break-words ${"user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),e.data&&(0,t.jsxs)("details",{className:"mt-2",children:[(0,t.jsx)("summary",{className:"cursor-pointer text-xs font-semibold mb-1",children:"â–¶ View Raw Data"}),(0,t.jsx)("pre",{className:"text-xs bg-gray-800 text-green-400 p-2 rounded overflow-x-auto max-h-60 overflow-y-auto",children:JSON.stringify(e.data,null,2)})]})]}),"user"===e.role&&(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(o.User,{className:"h-5 w-5 text-white"})})]},s)),h&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:(0,t.jsx)(n,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.1s]"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"})]})})]}),(0,t.jsx)("div",{ref:g})]})}),f&&(0,t.jsx)("div",{className:"absolute bottom-24 right-6 z-10",children:(0,t.jsx)(r.Button,{variant:"secondary",size:"icon",className:"rounded-full shadow-lg hover:shadow-xl transition-shadow",onClick:y,children:(0,t.jsx)(d.ChevronDown,{className:"h-5 w-5"})})}),(0,t.jsxs)("div",{className:"p-4 border-t bg-white flex-shrink-0",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Input,{value:u,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},placeholder:"Ask me about accounts, loans, transactions...",disabled:h,className:"flex-1"}),(0,t.jsx)(r.Button,{onClick:v,disabled:h||!u.trim(),className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:(0,t.jsx)(i.Send,{className:"h-4 w-4"})})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:'Try: "Show me total balance" or "Find all pending loans"'})]})]})})}e.s(["default",()=>c],65902)}]);