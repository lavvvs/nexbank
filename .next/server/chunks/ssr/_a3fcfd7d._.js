module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},45212,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(40695),e=a.i(92e3),f=a.i(96221),g=a.i(67453),h=a.i(23292);function i({transactionCount:a,accountCount:i=0,loanCount:j=0,emiCount:k=0,accountsWithWrongUserId:l=0}){let[m,n]=(0,c.useState)(!1),o=a+j+k+l,p=async()=>{n(!0);let a=h.toast.loading("ðŸ”§ Recovering your accounts and data...",{description:"This may take a few moments..."});try{let c=await fetch("/api/recover-my-account",{method:"POST"}),d=await c.json();h.toast.dismiss(a),d.success?(h.toast.success("Account Recovery Complete! ðŸŽ‰",{description:(0,b.jsxs)("div",{className:"space-y-1 text-sm mt-2",children:[d.accountsCreated>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsxs)("span",{children:[d.accountsCreated," account(s) created"]})]}),d.transactionsLinked>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsxs)("span",{children:[d.transactionsLinked," transactions linked"]})]}),d.loansLinked>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsxs)("span",{children:[d.loansLinked," loans recovered"]})]}),d.emisLinked>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsxs)("span",{children:[d.emisLinked," EMI payments recovered"]})]}),d.accountsFixed>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsxs)("span",{children:[d.accountsFixed," account(s) ownership fixed"]})]}),(0,b.jsx)("div",{className:"pt-2 mt-2 border-t border-green-200",children:(0,b.jsxs)("p",{className:"font-bold text-green-700",children:["ðŸ’° Total Balance: $",d.totalBalance?.toFixed(2)||"0.00"]})})]}),duration:6e3}),setTimeout(()=>{window.location.reload()},1500)):h.toast.error("Recovery Failed âŒ",{description:d.error||d.message||"Unknown error occurred. Please check console for details.",duration:5e3})}catch(b){h.toast.dismiss(a),h.toast.error("Recovery Failed âŒ",{description:"An unexpected error occurred. Please check the console and try again.",duration:5e3}),console.error("Recovery error:",b)}finally{n(!1)}};return(0,b.jsxs)("div",{className:"relative overflow-hidden p-5 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-400 rounded-xl shadow-lg",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,b.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(251, 191, 36, 0.4) 10px, rgba(251, 191, 36, 0.4) 20px)"}})}),(0,b.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 p-3 bg-yellow-400 rounded-full",children:(0,b.jsx)(e.AlertCircle,{className:"h-6 w-6 text-yellow-900"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h3",{className:"font-bold text-yellow-900 text-lg",children:"âš ï¸ Data Recovery Required"}),(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:[o," ",1===o?"Issue":"Issues"]})]}),(0,b.jsx)("p",{className:"text-sm text-yellow-800 mb-3",children:"We detected orphaned data that needs to be recovered and linked to your account:"}),(0,b.jsx)("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-3 mb-4",children:(0,b.jsxs)("ul",{className:"space-y-2",children:[a>0&&(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm text-yellow-900",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{className:"font-semibold",children:a})," ","transaction(s) without accounts"]})]}),j>0&&(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm text-yellow-900",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{className:"font-semibold",children:j})," ","loan(s) need to be linked"]})]}),k>0&&(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm text-yellow-900",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{className:"font-semibold",children:k})," EMI payment(s) need to be linked"]})]}),l>0&&(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm text-yellow-900",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{className:"font-semibold",children:l})," ","account(s) with wrong ownership"]})]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.Button,{onClick:p,disabled:m,size:"lg",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-md hover:shadow-lg transition-all",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Recovering Data..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.CheckCircle2,{className:"mr-2 h-5 w-5"}),"Recover All Data Now"]})}),i>0&&(0,b.jsxs)("p",{className:"text-xs text-yellow-700",children:["You currently have ",i," account(s) linked"]})]})]})]})]})}a.s(["RecoveryButton",()=>i])}];

//# sourceMappingURL=_a3fcfd7d._.js.map