module.exports=[26046,(a,b,c)=>{b.exports=a.x("mongoose",()=>require("mongoose"))},13761,a=>{"use strict";var b=a.i(26046);let{ObjectId:c}=b.Schema.Types,d=new b.Schema({clerkId:{type:String,unique:!0,required:!0},email:{type:String,unique:!0,required:!0},fullName:String,phone:String,address:String,kycStatus:{type:String,default:"pending"},isAdmin:{type:Boolean,default:!1}},{timestamps:!0}),e=new b.Schema({userId:{type:String,required:!0},accountNumber:{type:String,unique:!0,required:!0},accountType:String,balance:{type:Number,default:0},currency:{type:String,default:"USD"},status:{type:String,default:"active"}},{timestamps:!0}),f=new b.Schema({userId:{type:String,required:!0},accountId:{type:c,ref:"Account",required:!0},amount:{type:Number,required:!0},type:{type:String,required:!0},status:{type:String,default:"completed"},description:String,referenceId:String,recipientAccountId:{type:c,ref:"Account"},recipientUserId:{type:String}},{timestamps:{createdAt:!0,updatedAt:!1}}),g=new b.Schema({userId:{type:String,required:!0},loanType:String,amount:Number,interestRate:Number,tenureMonths:Number,emiAmount:Number,totalPayable:Number,amountPaid:{type:Number,default:0},remainingAmount:Number,status:{type:String,default:"pending"},disbursementAccountId:{type:c,ref:"Account"},approvedBy:{type:String},approvedAt:Date,disbursedAt:Date,nextEmiDate:Date},{timestamps:!0}),h=new b.Schema({loanId:{type:c,ref:"Loan",required:!0},userId:{type:String,required:!0,index:!0},emiNumber:Number,amount:Number,principalAmount:Number,interestAmount:Number,dueDate:Date,paidDate:Date,status:{type:String,default:"pending"},stripePaymentId:String,transactionId:{type:c,ref:"Transaction"}},{timestamps:{createdAt:!0,updatedAt:!1}}),i=new b.Schema({settingKey:{type:String,unique:!0},settingValue:String,description:String,updatedBy:{type:String}},{timestamps:{createdAt:!1,updatedAt:!0}}),j=b.default.models.Profile||b.default.model("Profile",d),k=b.default.models.Account||b.default.model("Account",e),l=b.default.models.Transaction||b.default.model("Transaction",f),m=b.default.models.Loan||b.default.model("Loan",g),n=b.default.models.EmiPayment||b.default.model("EmiPayment",h),o=b.default.models.BankSetting||b.default.model("BankSetting",i),p=new b.default.Schema({userId:{type:String,required:!0,unique:!0,index:!0},bankName:{type:String,default:"Your Bank"},transactionLimits:{daily:{type:Number,default:1e4},perTransaction:{type:Number,default:5e3}},interestRates:{savings:{type:Number,default:3.5},checking:{type:Number,default:.5}},fees:{monthlyMaintenance:{type:Number,default:0},overdraft:{type:Number,default:35},atmWithdrawal:{type:Number,default:2.5}}},{timestamps:!0}),q=b.default.models.BankSettings||b.default.model("BankSettings",p);a.s(["Account",0,k,"BankSetting",0,o,"BankSettings",0,q,"EmiPayment",0,n,"Loan",0,m,"Profile",0,j,"Transaction",0,l])},22017,a=>{"use strict";var b=a.i(26046);let c=process.env.DATABASE_URL;if(!c)throw Error("Please define DATABASE_URL in your .env");let d=a.g.mongoose;async function e(){return d.conn||(d.promise||(d.promise=b.default.connect(c).then(a=>a)),d.conn=await d.promise),d.conn}d||(d=a.g.mongoose={conn:null,promise:null}),a.s(["default",0,e])},96598,a=>{"use strict";function b(a){return{id:a._id?.toString()||"",clerkId:String(a.clerkId||""),email:String(a.email||""),fullName:String(a.fullName||""),phone:String(a.phone||""),kycStatus:a.kycStatus||"pending",isAdmin:!!a.isAdmin,createdAt:(a.createdAt instanceof Date?a.createdAt.toISOString():a.createdAt?new Date(a.createdAt).toISOString():"")||"",updatedAt:(a.updatedAt instanceof Date?a.updatedAt.toISOString():a.updatedAt?new Date(a.updatedAt).toISOString():"")||""}}a.s(["serializeProfile",()=>b])},62888,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DashboardSidebar() from the server but DashboardSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/sidebar.tsx <module evaluation>","DashboardSidebar");a.s(["DashboardSidebar",0,b])},54011,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DashboardSidebar() from the server but DashboardSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/sidebar.tsx","DashboardSidebar");a.s(["DashboardSidebar",0,b])},21106,a=>{"use strict";a.i(62888);var b=a.i(54011);a.n(b)},96883,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DashboardHeader() from the server but DashboardHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/header.tsx <module evaluation>","DashboardHeader");a.s(["DashboardHeader",0,b])},9094,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DashboardHeader() from the server but DashboardHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/header.tsx","DashboardHeader");a.s(["DashboardHeader",0,b])},36176,a=>{"use strict";a.i(96883);var b=a.i(9094);a.n(b)},26435,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(5072),e=a.i(22017),f=a.i(13761),g=a.i(21106),h=a.i(36176),i=a.i(96598);async function j({children:a}){let j=(await (0,d.auth)()).userId;j||(0,c.redirect)("/auth/login"),await (0,e.default)();let k=await f.Profile.findOne({clerkId:j}).lean();k||(0,c.redirect)("/dashboard"),k.isAdmin||(0,c.redirect)("/dashboard");let l=(0,i.serializeProfile)(k);return(0,b.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,b.jsx)(g.DashboardSidebar,{profile:l}),(0,b.jsxs)("div",{className:"flex w-full flex-col lg:pl-72",children:[(0,b.jsx)(h.DashboardHeader,{profile:l}),(0,b.jsx)("main",{className:"flex-1 p-6",children:a})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c6c62699._.js.map